{% load static %} 
<!doctype html>

<html>
        <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <script src="https://cdn.tailwindcss.com"></script>

                <style>
                        html, body {
                                margin: 0;
                                padding: 0;
                                display: flex;
                                flex-direction: column;
                                position: relative;
                        }
                            .stars {
                                display: flex;
                                gap: 5px;
                                margin-bottom: 20px;
                            }

                            .star {
                                cursor: pointer;
                                font-size: 24px;
                                color: #ccc;
                            }

                            .star:hover,
                            .star.active {
                                color: #f39c12;
                            }
                        </style>
                </style>
        </head>

        <body>
            <div class="mx-auto max-w-screen-xl px-4 py-16 sm:px-6 lg:px-8">
                <div class="mx-auto max-w-lg text-center">
                    <h1 class="text-2xl font-bold sm:text-3xl">Añade una valoración</h1>

                    <p class="mt-4 text-gray-500">
                        Rellena el formulario para crear una valoración sobre el producto {{ product.title }}
                    </p>
                </div>

                <form method="post" class="mx-auto mb-0 mt-8 max-w-md space-y-4">
                    {% csrf_token %}
                    <label for="stars">Selecciona el número de estrellas: </label>
                            <div class="stars" id="rating">
                                <span class="star" data-value="1">&#9733;</span>
                                <span class="star" data-value="2">&#9733;</span>
                                <span class="star" data-value="3">&#9733;</span>
                                <span class="star" data-value="4">&#9733;</span>
                                <span class="star" data-value="5">&#9733;</span>
                            </div>
                    <input type="hidden" name="selectedStars" id="selectedStarsInput">
                    <script>
                        const stars = document.querySelectorAll('.star');
                        const rating = document.querySelector('#rating');
                        const selectedStarsInput = document.querySelector('#selectedStarsInput');
                
                        rating.addEventListener('click', (e) => {
                            const starClicked = e.target.closest('.star');
                            if (starClicked) {
                                const starsArray = Array.from(stars);
                                const index = starsArray.indexOf(starClicked);
                                const selectedStars = index + 1;
                                selectedStarsInput.value = selectedStars;
                                stars.forEach((star, i) => {
                                    if (i < selectedStars) {
                                        star.classList.add('active');
                                    } else {
                                        star.classList.remove('active');
                                    }
                                });
                            }
                        });
                    </script>
                    <div>
                        <label for="title" class="sr-only">Title</label>
    
                            <div class="relative">
                                <input
                                    name="title"
                                    type="text"
                                    class="w-full rounded-lg border-gray-200 p-4 pe-12 text-sm shadow-sm"
                                    placeholder="Introduce un título"
                                    required
                                />
                            </div>
                    </div>
                    <div>
                        <label for="comment" class="sr-only">Comment</label>

                        <div class="relative">
                            <textarea
                                name="comment"
                                class="w-full rounded-lg border-gray-200 p-4 pe-12 text-sm shadow-sm"
                                placeholder="Escribe tu comentario"
                                required
                            ></textarea>
                        </div>
                    </div>
                    <div>
                        <label for="email" class="sr-only">Email</label>
    
                            <div class="relative">
                                <input
                                    name="email"
                                    type="email"
                                    class="w-full rounded-lg border-gray-200 p-4 pe-12 text-sm shadow-sm"
                                    placeholder="Introduce un correo electrónico"
                                    required    
                                />
    
                                <span class="absolute inset-y-0 end-0 grid place-content-center px-4">
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        class="h-4 w-4 text-gray-400"
                                        fill="none"
                                        viewBox="0 0 24 24"
                                        stroke="currentColor"
                                    >
                                        <path
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            stroke-width="2"
                                            d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"
                                        />
                                    </svg>
                                </span>
                            </div>
                        </div>

                    <div class="flex items-center justify-between">

                        <button
                            type="submit"
                            class="inline-block rounded-lg bg-blue-500 px-5 py-3 text-sm font-medium text-white"
                        >
                            Añadir valoración
                        </button>
                    </div>
                </form>
            </div>

        </body>
        
</html>
